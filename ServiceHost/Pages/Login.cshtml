@page
@model ServiceHost.Pages.LoginModel
@{
    Layout = "Shared/_Layout";
    ViewData["Title"] = "ورود";
}

@section Css
{
    <style>
        .position-relative {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            top: 50%;
            left: 12px;
            transform: translateY(-50%);
            cursor: pointer;
            color: #6c757d;
            display: flex;
            align-items: center;
        }

            .toggle-password:hover {
                color: #000;
            }
    </style>
}

<div class="page-content-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="page-wrapper">
                    <div class="page-content-wrapper">
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-xs-12 col-lg-6 m-auto">
                                @if (!string.IsNullOrWhiteSpace(Model.LoginMessage))
                                {
                                    <div class="alert alert-danger">@Model.LoginMessage</div>
                                }
                                <form method="post">
                                    <div class="login-form">
                                        <div class="row">
                                            <div class="col-md-12 col-12">
                                                <label asp-for="Command.NationalCode">کد ملی</label>
                                                <input asp-for="Command.NationalCode" class="form-control" type="text" maxlength="10" placeholder="کد ملی" autofocus>
                                                <span asp-validation-for="Command.NationalCode" class="error"></span>
                                            </div>
                                            <div class="col-12">
                                                <label asp-for="Command.Password">کلمه عبور</label>
                                                <div class="position-relative">
                                                    <input asp-for="Command.Password" class="form-control" type="password" id="password" placeholder="کلمه عبور">
                                                    <span class="toggle-password" onclick="togglePassword('password', this)">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                                            <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" />
                                                            <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
                                                        </svg>
                                                    </span>
                                                </div>
                                                <span asp-validation-for="Command.Password" class="error"></span>
                                            </div>
                                            <div class="col-md-12 col-12 text-center">
                                                <button type="submit" class="btn btn-primary w-100">ورود</button>
                                            </div>
                                            <div class="col-md-12 col-12 text-center">
                                                <a asp-page="ForgetNewPassword" class="btn btn-danger mt-3 d-block">فراموشی رمز عبور</a>

                                            </div>
                                            <div class="col-md-12 col-12 text-center">
                                                <a asp-page="Register" class="btn btn-warning p-2 mt-3 d-block">ثبت نام</a>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts
{
    <script src="~/adminTheme/assets/datatables/jquery.dataTables.min.js"></script>
    <script src="~/adminTheme/assets/datatables/dataTables.bootstrap.js"></script>

    <script type="text/javascript">
        $(document).ready(function() {
            $('#datatable').dataTable();
        });
    </script>
    
    <script>
        function togglePassword(inputId, element) {
    const passwordInput = document.getElementById(inputId);
    
    if (passwordInput.type === "password") {
        passwordInput.type = "text";
        element.style.opacity = "0.5";
    } else {
        passwordInput.type = "password";
        element.style.opacity = "1";
    }
        }
    </script>
}